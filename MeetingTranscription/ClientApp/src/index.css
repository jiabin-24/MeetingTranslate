
/* Make captions area flexible so it scrolls internally without causing page double-scrollbars */
.captions {
  flex: 1 1 auto;
  min-height: 0; /* critical: allow flex child to shrink and let overflow work */
  overflow-y: auto;
  font: 14px/1.6 system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue",
        Arial, "Noto Sans", "PingFang SC", "Microsoft YaHei", sans-serif;
  padding: 8px;
  background: #fafafa;
  border: 1px solid #eee;
  border-radius: 6px;
}
.final { color: #222; }
.partial { color: #666; }

.language-switcher {
  display: flex;
  justify-content: flex-end;
  align-items: center;
  gap: 8px;
  margin: 6px 0 10px 0;
}

.language-switcher select {
  padding: 4px;
  border-radius: 5px;
}

/* Ensure app can use full height so inner flex layouts work */
html, body, #root {
  height: 99%;
}

/* Top-level container that holds language switcher + captions panel */
.captions-panel-container {
  display: flex;
  flex-direction: column;
  height: 98%;
}

/* Internal captions panel (controls + captions) should be a column flex so .captions can flex */
.captions-panel {
  display: flex;
  flex-direction: column;
  flex: 1 1 auto;
  min-height: 0;
}

/* Bilingual caption block styles */
.caption-block { padding: 4px 6px; }
.caption-speaker { font-weight: 600; color: #444; margin-bottom: 2px; }
.caption-line { display: flex; gap: 4px; align-items: baseline; padding: 1px 0; }
.caption-line .label { color: #888; min-width: 40px; }
.caption-line.original .text { color: #888; }
.caption-line.translated .text { color: #333; }

/* Toggle to show only translated text */
/* translation-toggle removed (not used) */

.view-mode-toggle { display: flex; justify-content: flex-end; gap: 8px; margin-bottom: 6px; }
.view-mode-toggle button { background: #fff; border: 1px solid #ddd; padding: 3px 6px; border-radius: 4px; cursor: pointer; font-size: 12px; }
.view-mode-toggle button.active { background: #0078d4; color: #fff; border-color: #0078d4; }
.view-mode-toggle button:focus { outline: none; box-shadow: 0 0 0 3px rgba(0,120,212,0.12); }

/* Controls container separates audio toggle and view mode toggles */
.controls { display: flex; justify-content: space-between; align-items: center; gap: 12px; margin-bottom: 8px; }
/* old audio-toggle button styles removed in favor of .icon-button */

/* Ensure view-mode-toggle stays compact when placed beside audio toggle */
.view-mode-toggle { margin-bottom: 0; }

/* Audio indicator */
.audio-indicator { display: inline-flex; align-items: center; gap: 8px; margin-right: 8px; }
.audio-indicator .dot { width: 12px; height: 12px; border-radius: 50%; display: inline-block; box-shadow: 0 0 0 2px rgba(0,0,0,0.06) inset; }
.audio-indicator .dot.playing { background: #d13438; box-shadow: 0 0 6px rgba(209,52,56,0.5); }
.audio-indicator .dot.queued { background: #ffb020; box-shadow: 0 0 6px rgba(255,176,32,0.35); }
.audio-indicator .dot.idle { background: #c8c8c8; }

/* .mic-icon sizing handled by icon/button CSS */

/* Icon button styles */
.icon-button { display: inline-flex; align-items: center; justify-content: center; width: 30px; height: 30px; border-radius: 20%; border: 1px solid #ddd; background: #fff; cursor: pointer; padding: 0; }
.icon-button.audio-enabled { background: #a3d8a3; color: #fff; border-color: #b6d4b6; }
.icon-button:focus { outline: none; box-shadow: 0 0 0 3px rgba(0,120,212,0.12); }
.icon-button .mic-icon svg { display: block; }

/* Screen-reader only text */
.sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0; }
